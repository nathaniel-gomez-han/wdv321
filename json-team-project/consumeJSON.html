<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>WDV321 Advanced Javascript - JSON</title>
<!-- Authors: Dean Cliff, Jacob Scroggins, Nathaniel Gomez-Han -->
<script
  src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

<!--
    Instructions:
    	1. Incorporate the createJSON.js file into this page as an external javascript file.
        2. Access the JSON object in local storage and convert it into a Javascript object.
        3. Use the information in the object to complete the student card.   
-->

<script src="createJSON.js"></script>
<script>
	$(document).ready(function() {
		let student1 = JSON.parse(localStorage.getItem("student1"));
		let student2 = JSON.parse(localStorage.getItem("student2"));
		let student3 = JSON.parse(localStorage.getItem("student3"));

		let studentsDiv = $("#students");
		
		let studentCard1 = createStudentCardHTML(student1);
		let studentCard2 = createStudentCardHTML(student2);
		let studentCard3 = createStudentCardHTML(student3);
		
		studentsDiv.append(studentCard1, "<br>", studentCard2, "<br>", studentCard3);
	});

	// Generates HTML for a student card using the given student's data.
	function createStudentCardHTML(inStudent) {
		let result = "";
		result += "<div class=\"studentCard\">";
		result += "<h3>Student ID: " + inStudent.student_id + "</h3>";
		result += "<p>Student GPA: " + inStudent.student_gpa + "</p>";
		result += "<p>Student Courses:</p><ul>";

		let courses = inStudent.student_courses;
		for (let i = 0; i < courses.length; i++) {
			result += "<li>" + courses[i] + "</li>";
		}

		result += "";
		result += "</ul>";
		result += "</div>";

		return result;
	}
</script>
<style>
	.studentCard	{
		width:200px;
		box-sizing:border-box;
		background-color:lightblue;
		padding-left:5px;
		padding-top:3px;
		border:thin solid blue;
		box-shadow: 2px 2px 2px grey;		
	}
	
	.studentCard h3	{
		margin:0px;	
	}
</style>



</head>

<body>
	<h1>WDV321 Advanced Javascript</h1>
    <h2>Unit-8 JSON Objects</h2>
    <h3>Creating and consuming a JSON object</h3>
	<h4>Authors: Dean Cliff, Jacob Scroggins, Nathaniel Gomez-Han</h4>

	<div id="students"></div>

	<!-- <div class="studentCard">
		<h3>Student ID:</h3>
		<p>Student GPA:</p>
		<p>Student Courses:
			<ul>
				display the courses as list items
			</ul>
		</p>  
	</div> -->

</body>
</html>
